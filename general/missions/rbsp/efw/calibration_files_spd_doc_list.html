<!-- This file was generated by mk_html_help.pro -->
<html>
 
<head>
<TITLE>general/missions/rbsp/efw/calibration_files</TITLE>
</head>
 
<body>
<P>
This page was created by the IDL library routine 
<CODE>mk_html_help2</CODE>.
<br>
<P>
<STRONG>Last modified: </STRONG>Tue Mar 15 18:16:29 2022.<P>
 
<HR>
 
<A NAME="ROUTINELIST">
<H1>Directory Listing of Routines</H1></A>
<UL>
<H1>general/missions/rbsp/efw/calibration_files</H1>
<LI><A HREF="#RBSP_AC_HIGHPASS_RESPONSE (FUNCTION)[2]">
RBSP_AC_HIGHPASS_RESPONSE (FUNCTION)[2]</A>
<br>Calculate the response of the one-pole 10 Hz high-pass analog filter applied
<LI><A HREF="#RBSP_ADC_RESPONSE (FUNCTION)[2]">RBSP_ADC_RESPONSE (FUNCTION)[2]
</A>
<br>Calculate the responses of the RBSP DFB ADC chip.
<LI><A HREF="#RBSP_ANTI_ALIASING_RESPONSE (FUNCTION)[2]">
RBSP_ANTI_ALIASING_RESPONSE (FUNCTION)[2]</A>
<br>Calculate the frequency responses of the anti-aliasing filters for RBSP
<LI><A HREF="#RBSP_DFB_RESPONSE (FUNCTION)[2]">RBSP_DFB_RESPONSE (FUNCTION)[2]
</A>
<br>Calculate DFB responses at given frequencies. Two modes are suppored. If the
<LI><A HREF="#RBSP_EFW_BOOM_DEPLOY_HISTORY (FUNCTION)">
RBSP_EFW_BOOM_DEPLOY_HISTORY (FUNCTION)</A>
<br>Returns a structure with all the boom lengths for each antenna pair on both
<LI><A HREF="#RBSP_EFW_BOOM_LENGTH (FUNCTION)[2]">
RBSP_EFW_BOOM_LENGTH (FUNCTION)[2]</A>
<br>Return the boom length for a give time.
<LI><A HREF="#RBSP_EFW_BOOM_RESPONSE (FUNCTION)[2]">
RBSP_EFW_BOOM_RESPONSE (FUNCTION)[2]</A>
<LI><A HREF="#RBSP_EFW_DECONVOL_INST_RESP (FUNCTION)[2]">
RBSP_EFW_DECONVOL_INST_RESP (FUNCTION)[2]</A>
<br>De-convolve instrument responses for RBSP EFW data, including search-coil
<LI><A HREF="#RBSP_EFW_DENSITY_FIT_FROM_UH_LINE">
RBSP_EFW_DENSITY_FIT_FROM_UH_LINE</A>
<LI><A HREF="#RBSP_EFW_EMFISIS_19DB_GAIN_LIST">RBSP_EFW_EMFISIS_19DB_GAIN_LIST
</A>
<LI><A HREF="#RBSP_EFW_EMFISIS_SCM_GAIN_LIST">RBSP_EFW_EMFISIS_SCM_GAIN_LIST</A>
<LI><A HREF="#RBSP_EFW_GET_GAIN_RESULTS[2]">RBSP_EFW_GET_GAIN_RESULTS[2]</A>
<br>return structure with freq-dependent calibration curves for the searchcoil and EDC
<LI><A HREF="#RBSP_EFW_READ_L1_TIME_TAG_CORRECTION">
RBSP_EFW_READ_L1_TIME_TAG_CORRECTION</A>
<LI><A HREF="#RBSP_GET_DENSITY_CALIBRATION">RBSP_GET_DENSITY_CALIBRATION</A>
<LI><A HREF="#RBSP_GET_EFW_DFB_CONFIG (FUNCTION)[2]">
RBSP_GET_EFW_DFB_CONFIG (FUNCTION)[2]</A>
<br>Decode the EFW DFB Config byte
<LI><A HREF="#RBSP_MSC_RESPONSE (FUNCTION)[2]">RBSP_MSC_RESPONSE (FUNCTION)[2]
</A>
<br>Calculate the transmittance of the search-coil magnetometer.
<br>
</UL><P>
<HR>
 
<H1>Routine Descriptions</H1>
<A NAME="RBSP_AC_HIGHPASS_RESPONSE (FUNCTION)[2]">
<H2>RBSP_AC_HIGHPASS_RESPONSE (FUNCTION)[2]</H2></A>
<A HREF="#RBSP_ADC_RESPONSE (FUNCTION)[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   rbsp_ac_highpass_response (function)

 PURPOSE:
   Calculate the response of the one-pole 10 Hz high-pass analog filter applied
   to RBSP AC channel field signals.

 CATEGORIES:

 CALLING SEQUENCE:
   resp = rbsp_ac_highpass_response(f)

 ARGUMENTS:
   f: (Input, required) A frequency array for which the response of the filter
       is calcuated. The frequency should be in units of Hz.

 KEYWORDS:
   None.

 COMMON BLOCKS:

 EXAMPLES:

 SEE ALSO:

 HISTORY:
   2012-08-08: Created by Jianbao Tao, SSL, UC Berkeley.
 

 Version:

 $LastChangedBy: aaronbreneman $
 $LastChangedDate: 2020-04-29 11:08:41 -0700 (Wed, 29 Apr 2020) $
 $LastChangedRevision: 28638 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_ac_highpass_response.pro $
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_ac_highpass_response.pro">general/missions/rbsp/efw/calibration_files/rbsp_ac_highpass_response.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_ADC_RESPONSE (FUNCTION)[2]">
<H2>RBSP_ADC_RESPONSE (FUNCTION)[2]</H2></A>
<A HREF="#RBSP_AC_HIGHPASS_RESPONSE (FUNCTION)[2]">[Previous Routine]</A>
<A HREF="#RBSP_ANTI_ALIASING_RESPONSE (FUNCTION)[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   rbsp_adc_response (function)

 PURPOSE:
   Calculate the responses of the RBSP DFB ADC chip.

 CATEGORIES:

 CALLING SEQUENCE:
   response = rbsp_adc_response(f, channel, delay = delay)

 ARGUMENTS:
   f: (Input, required) A floating array of frequencies at which the responses
           are calculated.
   channel: (Input, required) A string of channel names. Valid channels are:
          'V1DC',  'V2DC',  'V3DC',  'V4DC',  'V5DC',  'V6DC',
          'E12DC', 'E34DC', 'E56DC', 'E12AC', 'E34AC', 'E56AC', 
          'V1AC', 'V2AC', 'V3AC', 'V4AC', 'V5AC', 'V6AC', 
          'MAGU', 'MAGV', 'MAGW', 'MSCU', 'MSCV', 'MSCW'

 KEYWORDS:
   delay: (Output, optional) A variable name to hold the time delay of the
          given channel.

 COMMON BLOCKS:

 EXAMPLES:

 SEE ALSO:

 HISTORY:
   2012-08-10: Created by Jianbao Tao (JBT), SSL, UC Berkley.


 Version:

 $LastChangedBy: aaronbreneman $
 $LastChangedDate: 2020-04-29 11:10:32 -0700 (Wed, 29 Apr 2020) $
 $LastChangedRevision: 28639 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_adc_response.pro $
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_adc_response.pro">general/missions/rbsp/efw/calibration_files/rbsp_adc_response.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_ANTI_ALIASING_RESPONSE (FUNCTION)[2]">
<H2>RBSP_ANTI_ALIASING_RESPONSE (FUNCTION)[2]</H2></A>
<A HREF="#RBSP_ADC_RESPONSE (FUNCTION)[2]">[Previous Routine]</A>
<A HREF="#RBSP_DFB_RESPONSE (FUNCTION)[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   rbsp_anti_aliasing_response (function)

 PURPOSE:
   Calculate the frequency responses of the anti-aliasing filters for RBSP
   field signals.

 CATEGORIES:

 CALLING SEQUENCE:
   response = rbsp_anti_aliasing_response(f)

 ARGUMENTS:
   f: (Input, required) A floating array of frequencies at which the responses
           are calculated.

 KEYWORDS:
   None.

 COMMON BLOCKS:

 EXAMPLES:

 SEE ALSO:

 HISTORY:
   2012-08-10: Created by Jianbao Tao (JBT), SSL, UC Berkley.


 Version:

 $LastChangedBy: aaronbreneman $
 $LastChangedDate: 2020-04-29 11:11:13 -0700 (Wed, 29 Apr 2020) $
 $LastChangedRevision: 28640 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_anti_aliasing_response.pro $
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_anti_aliasing_response.pro">general/missions/rbsp/efw/calibration_files/rbsp_anti_aliasing_response.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_DFB_RESPONSE (FUNCTION)[2]">
<H2>RBSP_DFB_RESPONSE (FUNCTION)[2]</H2></A>
<A HREF="#RBSP_ANTI_ALIASING_RESPONSE (FUNCTION)[2]">[Previous Routine]</A>
<A HREF="#RBSP_EFW_BOOM_DEPLOY_HISTORY (FUNCTION)">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   rbsp_dfb_response (function)

 PURPOSE:
   Calculate DFB responses at given frequencies. Two modes are suppored. If the
   sample rate keyword, SAMPLE_RATE, is specified, it will calculate the
   response of the low-pass output from DFB. If the the filter bank level
   keyword, FBK_LEVEL, is specified, it will calculate the response of the
   corresponding filter bank level. 

   Warning: If both keywords are set, FBK_LEVEL is ignored. If neither is set,
            a NaN will be returned.

   Filter bank level look-up table:
       Frequency range in Hz  |  Level
           8192 - 4096        |    1
           4096 - 2048        |    2
           2048 - 1024        |    3
           1024 -  512        |    4
            512 -  256        |    5
            256 -  128        |    6
            128 -   64        |    7
             64 -   32        |    8
             32 -   16        |    9
             16 -    8        |    10
              8 -    4        |    11
              4 -    2        |    12
              2 -    1        |    13

 CATEGORIES:

 CALLING SEQUENCE:
   result = rbsp_dfb_response(f, sample_rate = sample_rate, $
                        fbk_level = fbk_level)

 ARGUMENTS:
   f: (Input, required) A floating array of frequencies at which the responses
           are calculated.

 KEYWORDS:
   sample_rate: (Input, optional) See PURPOSE.
   fbk_level: (Input, optional) See PURPOSE.

 COMMON BLOCKS:

 EXAMPLES:

 SEE ALSO:

 HISTORY:
   2012-08-08: Created by Jianbao Tao (JBT), SSL, UC Berkley.


 Version:

 $LastChangedBy: aaronbreneman $
 $LastChangedDate: 2020-04-29 11:12:21 -0700 (Wed, 29 Apr 2020) $
 $LastChangedRevision: 28641 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_dfb_response.pro $
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_dfb_response.pro">general/missions/rbsp/efw/calibration_files/rbsp_dfb_response.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_EFW_BOOM_DEPLOY_HISTORY (FUNCTION)">
<H2>RBSP_EFW_BOOM_DEPLOY_HISTORY (FUNCTION)</H2></A>
<A HREF="#RBSP_DFB_RESPONSE (FUNCTION)[2]">[Previous Routine]</A>
<A HREF="#RBSP_EFW_BOOM_LENGTH (FUNCTION)[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   rbsp_efw_boom_deploy_history (function)

 PURPOSE:
   Returns a structure with all the boom lengths for each antenna pair on both
   probes at the cadence of the input datetimes

 CATEGORIES:

 CALLING SEQUENCE:

 NOTES: Boom deploy schedule from https://efw.ssl.berkeley.edu/svn/SOC/software/deploy_history/

		 To Convert SPB total stroke to dipole tip-to-tip, double stroke length and
		 add 1.82 m; e.g. 20-m stroke = 41.8-m tip-to-tip dipole.

		 To convert AXB total stroke to dipole tip-to-tip, add AFT and FWD total strokes
		 and add 1.2 m for deck spacing and 0.76 m for whip and sphere
		 e.g. 4.02-m stroke on FWD and AFT AXB stacers gives a dipole tip-to-tip of 10.0 m.

 ARGUMENTS: datetime --&gt; either a single value or an array of times.
                         The code returns a similarly sized array with boom lengths
                         for each time

 KEYWORDS:	allvals -&gt; set to fill with a structure with all the mission boom length
						changes based on date and time
           multipletimes -&gt; set to input an array of times (say for entire day).

 COMMON BLOCKS:

 EXAMPLES:

 SEE ALSO:

 HISTORY:
	2013-05-17:	Created by Aaron Breneman (UMN)


 VERSION:
 $LastChangedBy: aaronbreneman $
 $LastChangedDate: 2020-09-21 18:13:35 -0700 (Mon, 21 Sep 2020) $
 $LastChangedRevision: 29167 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_efw_boom_deploy_history.pro $

</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_efw_boom_deploy_history.pro">general/missions/rbsp/efw/calibration_files/rbsp_efw_boom_deploy_history.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_EFW_BOOM_LENGTH (FUNCTION)[2]">
<H2>RBSP_EFW_BOOM_LENGTH (FUNCTION)[2]</H2></A>
<A HREF="#RBSP_EFW_BOOM_DEPLOY_HISTORY (FUNCTION)">[Previous Routine]</A>
<A HREF="#RBSP_EFW_BOOM_RESPONSE (FUNCTION)[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   rbsp_efw_boom_length (function)

 PURPOSE:
   Return the boom length for a give time.

 CATEGORIES:

 CALLING SEQUENCE:
   result = rbsp_efw_boom_length(sc, time)

 ARGUMENTS:
   sc: (In, required) Spacecraft name. Should be 'a' or 'b'.
   time: (In, required) A value of time.

 KEYWORDS:

 COMMON BLOCKS:

 EXAMPLES:

 SEE ALSO:

 HISTORY:
   2012-10-08: Created by Jianbao Tao (JBT), SSL, UC Berkley.
   2012-11-05: Initial release to TDAS. JBT, SSL/UCB.
   2013-06-20: JBT. Accounted for AXB trimming.

 VERSION:
 $LastChangedBy: aaronbreneman $
 $LastChangedDate: 2020-09-21 18:14:09 -0700 (Mon, 21 Sep 2020) $
 $LastChangedRevision: 29168 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_efw_boom_length.pro $

</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_efw_boom_length.pro">general/missions/rbsp/efw/calibration_files/rbsp_efw_boom_length.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_EFW_BOOM_RESPONSE (FUNCTION)[2]">
<H2>RBSP_EFW_BOOM_RESPONSE (FUNCTION)[2]</H2></A>
<A HREF="#RBSP_EFW_BOOM_LENGTH (FUNCTION)[2]">[Previous Routine]</A>
<A HREF="#RBSP_EFW_DECONVOL_INST_RESP (FUNCTION)[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   rbsp_efw_boom_response (function)

 PURPOSE:

 CATEGORIES:

 CALLING SEQUENCE:
   resp = rbsp_efw_boom_response(f, boom_type, rsheath = rsheath, $
   H_before = H_before, H_after = H_after)

 ARGUMENTS:

 KEYWORDS:

 COMMON BLOCKS:

 EXAMPLES:

 SEE ALSO:

 HISTORY:
   2012-08-12: Created by Jianbao Tao (JBT), SSL, UC Berkley.

 VERSION:
 $LastChangedBy: aaronbreneman $
 $LastChangedDate: 2020-04-29 11:18:54 -0700 (Wed, 29 Apr 2020) $
 $LastChangedRevision: 28644 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_efw_boom_response.pro $

</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_efw_boom_response.pro">general/missions/rbsp/efw/calibration_files/rbsp_efw_boom_response.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_EFW_DECONVOL_INST_RESP (FUNCTION)[2]">
<H2>RBSP_EFW_DECONVOL_INST_RESP (FUNCTION)[2]</H2></A>
<A HREF="#RBSP_EFW_BOOM_RESPONSE (FUNCTION)[2]">[Previous Routine]</A>
<A HREF="#RBSP_EFW_DENSITY_FIT_FROM_UH_LINE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   rbsp_efw_deconvol_inst_resp (function)

 PURPOSE:
   De-convolve instrument responses for RBSP EFW data, including search-coil
   data that are channeled into EFW. It will return a tplot data structure. 

 CATEGORIES:

 CALLING SEQUENCE:
   result = rbsp_efw_deconvol_inst_resp(data, probe, datatype)

 ARGUMENTS:
   data: (Input, required) A tplot data structure, i.e., a structure with the
         form {x:time_array, y:[nt, 3]}.

   probe: (Input, required) RBSP probe name. It should be 'a' or 'b'.

   datatype: (Input, required) Data type name. Valid names are:
         'eb2', 'mscb1', 'mscb2'.

 KEYWORDS:
   None.

 COMMON BLOCKS:

 EXAMPLES:

 SEE ALSO:

 HISTORY:
   2012-08-23: Created by Jianbao Tao (JBT), SSL, UC Berkley.
   2013-06-21: JBT. 
         1. Added support to eb1.
         2. Removed hard-wired sample rate.
	2014-06-01: AWB
		  Checks to be sure that block length is greater than kernel length
		  Not doing this can cause blk_con to fail for short bursts. 


 Version:

 $LastChangedBy: aaronbreneman $
 $LastChangedDate: 2020-04-29 11:19:10 -0700 (Wed, 29 Apr 2020) $
 $LastChangedRevision: 28645 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_efw_deconvol_inst_resp.pro $
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_efw_deconvol_inst_resp.pro">general/missions/rbsp/efw/calibration_files/rbsp_efw_deconvol_inst_resp.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_EFW_DENSITY_FIT_FROM_UH_LINE">
<H2>RBSP_EFW_DENSITY_FIT_FROM_UH_LINE</H2></A>
<A HREF="#RBSP_EFW_DECONVOL_INST_RESP (FUNCTION)[2]">[Previous Routine]</A>
<A HREF="#RBSP_EFW_EMFISIS_19DB_GAIN_LIST">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME: rbsp_efw_density_fit_from_uh_line
 SYNTAX:
 PURPOSE: Return a tplot variable of density based on sc
 potential. Calibrations from the UH line are updated every few weeks
 The double-exponential fit is based on Escoubet 1997
 INPUT: sc_potential - name of tplot variable (string) that contains the quantity (V1+V2)/2
 OUTPUT: tplot variable of density
 KEYWORDS: sc -&gt; 'a' or 'b'
           newname -&gt; name of output density tplot variable. Defaults
                 to 'density'
         dmin, dmax -&gt; min and max allowable density values. Values
            outside of these limits are set to NaN or setval if set
         setval -&gt; value to set density to if it is outside dmin,
         dmax range

 HISTORY: Written by Aaron W Breneman (UMN), based on Scott
 Thaller's density calibrations to EMFISIS upper hybrid line
 VERSION:
   $LastChangedBy: aaronbreneman $
   $LastChangedDate: 2019-12-19 12:12:54 -0800 (Thu, 19 Dec 2019) $
   $LastChangedRevision: 28128 $
   $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_efw_density_fit_from_uh_line.pro $
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_efw_density_fit_from_uh_line.pro">general/missions/rbsp/efw/calibration_files/rbsp_efw_density_fit_from_uh_line.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_EFW_EMFISIS_19DB_GAIN_LIST">
<H2>RBSP_EFW_EMFISIS_19DB_GAIN_LIST</H2></A>
<A HREF="#RBSP_EFW_DENSITY_FIT_FROM_UH_LINE">[Previous Routine]</A>
<A HREF="#RBSP_EFW_EMFISIS_SCM_GAIN_LIST">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME: rbsp_efw_emfisis_19dB_gain_list
 SYNTAX:
 PURPOSE: Returns a list of times when EMFISIS turned on/off the 19dB
          attenuator on the SCM burst waveform signal.

 KEYWORDS:
 NOTES: Notes to Aaron Breneman: See D. Malaspina email on Feb 2, 2018.
        Initial list of on/off times from Hospodarsky 2018-02-28 email

 HISTORY: Written by Aaron W Breneman
 VERSION:
   $LastChangedBy: aaronbreneman $
   $LastChangedDate: 2018-12-21 11:35:33 -0800 (Fri, 21 Dec 2018) $
   $LastChangedRevision: 26395 $
   $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_efw_emfisis_19dB_gain_list.pro $
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_efw_emfisis_19dB_gain_list.pro">general/missions/rbsp/efw/calibration_files/rbsp_efw_emfisis_19dB_gain_list.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_EFW_EMFISIS_SCM_GAIN_LIST">
<H2>RBSP_EFW_EMFISIS_SCM_GAIN_LIST</H2></A>
<A HREF="#RBSP_EFW_EMFISIS_19DB_GAIN_LIST">[Previous Routine]</A>
<A HREF="#RBSP_EFW_GET_GAIN_RESULTS[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME: rbsp_efw_emfisis_scm_gain_list.pro
 SYNTAX:
 PURPOSE: Returns a list of times when EMFISIS turned on/off the 19dB attenuator
          on the SCM burst waveform signal.
 NOTES: Note for Aaron Breneman: See Malaspina email on Feb 2, 2018.
        Full list of on/off times from Hospdarsky/Bounds 2018-02-28 email
 KEYWORDS:
 HISTORY: Aaron Breneman, 2018
 VERSION:
   $LastChangedBy: aaronbreneman $
   $LastChangedDate: 2018-12-21 11:38:35 -0800 (Fri, 21 Dec 2018) $
   $LastChangedRevision: 26396 $
   $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_efw_emfisis_scm_gain_list.pro $
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_efw_emfisis_scm_gain_list.pro">general/missions/rbsp/efw/calibration_files/rbsp_efw_emfisis_scm_gain_list.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_EFW_GET_GAIN_RESULTS[2]">
<H2>RBSP_EFW_GET_GAIN_RESULTS[2]</H2></A>
<A HREF="#RBSP_EFW_EMFISIS_SCM_GAIN_LIST">[Previous Routine]</A>
<A HREF="#RBSP_EFW_READ_L1_TIME_TAG_CORRECTION">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   rbsp_efw_get_gain_results

 PURPOSE:
   return structure with freq-dependent calibration curves for the searchcoil and EDC
	channnels on EFW. Also includes notes on how to apply the calibration

 CATEGORIES:

 CALLING SEQUENCE:
   x = rbsp_efw_get_gain_results()

 ARGUMENTS:

 KEYWORDS:

 COMMON BLOCKS:

 EXAMPLES:

 SEE ALSO:

 HISTORY:
   2013-05-15: Created by Aaron Breneman (UMN)

 VERSION:
 $LastChangedBy: aaronbreneman $
 $LastChangedDate: 2020-04-29 11:19:22 -0700 (Wed, 29 Apr 2020) $
 $LastChangedRevision: 28646 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_efw_get_gain_results.pro $

</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_efw_get_gain_results.pro">general/missions/rbsp/efw/calibration_files/rbsp_efw_get_gain_results.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_EFW_READ_L1_TIME_TAG_CORRECTION">
<H2>RBSP_EFW_READ_L1_TIME_TAG_CORRECTION</H2></A>
<A HREF="#RBSP_EFW_GET_GAIN_RESULTS[2]">[Previous Routine]</A>
<A HREF="#RBSP_GET_DENSITY_CALIBRATION">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 Read the time range of sections shifted in time tag, and the correction.
 Data adopted from the txt file generated by rbsp_efw_read_l1_time_tag_correction_gen_file.
 
 The tplot_var is 'rbspx_l1_time_tag_correction', to use
    get_data, 'rbspa_l1_time_tag_correction', start_times, time_ranges, corrections
    nsection = n_elements(corrections)
   
    foo_l1_efw_data = 'rbspa_efw_esvy'
    get_data, foo_l1_efw_data, times, data
    for ii=0, nsection-1 do begin
        tmp = where(times ge time_ranges[ii,0] and times le time_ranges[ii,1], count)
        if count eq 0 then continue
        ; Have to find the closest time, otherwise the index can be 1 record off.
        if min(times) ge time_ranges[ii,0] then i0 = 0 else begin
            index = min(times-time_ranges[ii,0], /absolute, i0)
        endelse
        if max(times) le time_ranges[ii,1] then i1 = n_elements(times) else begin
            index = min(times-time_ranges[ii,1], /absolute, i1)
        endelse
        times[i0:i1-1] += corrections[ii]
    endfor
    store_data, foo_l1_efw_data, times, data
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_efw_read_l1_time_tag_correction.pro">general/missions/rbsp/efw/calibration_files/rbsp_efw_read_l1_time_tag_correction.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_GET_DENSITY_CALIBRATION">
<H2>RBSP_GET_DENSITY_CALIBRATION</H2></A>
<A HREF="#RBSP_EFW_READ_L1_TIME_TAG_CORRECTION">[Previous Routine]</A>
<A HREF="#RBSP_GET_EFW_DFB_CONFIG (FUNCTION)[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME: rbsp_get_density_calibration
 SYNTAX: rbsp_get_density_calibration,'a'
 PURPOSE: Returns a structure with the RBSP density calibrations. 
 INPUT: 
 OUTPUT: Fit parameters for calculating density from RBSPa spacecraft
 potential &quot;v&quot;. Form is A*exp(B*v) + C*exp(D*v)
 KEYWORDS: 
 HISTORY: Written by AWB at the UMN, May, 2015
 VERSION: 
   $LastChangedBy: aaronbreneman $
   $LastChangedDate: 2016-05-12 12:20:43 -0700 (Thu, 12 May 2016) $
   $LastChangedRevision: 21062 $
   $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_get_density_calibration.pro $
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_get_density_calibration.pro">general/missions/rbsp/efw/calibration_files/rbsp_get_density_calibration.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_GET_EFW_DFB_CONFIG (FUNCTION)[2]">
<H2>RBSP_GET_EFW_DFB_CONFIG (FUNCTION)[2]</H2></A>
<A HREF="#RBSP_GET_DENSITY_CALIBRATION">[Previous Routine]</A>
<A HREF="#RBSP_MSC_RESPONSE (FUNCTION)[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   rbsp_get_efw_dfb_config (function)

 PURPOSE:
   Decode the EFW DFB Config byte 

 CALLING SEQUENCE:
   result = rbsp_get_efw_dfb_config(config_byte)

 ARGUMENTS:
   config_byte: (Input, required) Integer or array of integers containing the DFB config byte

 KEYWORDS:

 COMMON BLOCKS:

 EXAMPLES:

 SEE ALSO:

 HISTORY:
   2013-04-03: Created by Peter Schroeder (PCS), SSL, UC Berkley.


 Version:

 $LastChangedBy: aaronbreneman $
 $LastChangedDate: 2020-04-29 11:19:35 -0700 (Wed, 29 Apr 2020) $
 $LastChangedRevision: 28647 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_get_efw_dfb_config.pro $
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_get_efw_dfb_config.pro">general/missions/rbsp/efw/calibration_files/rbsp_get_efw_dfb_config.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RBSP_MSC_RESPONSE (FUNCTION)[2]">
<H2>RBSP_MSC_RESPONSE (FUNCTION)[2]</H2></A>
<A HREF="#RBSP_GET_EFW_DFB_CONFIG (FUNCTION)[2]">[Previous Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   rbsp_msc_response (function)

 PURPOSE:
   Calculate the transmittance of the search-coil magnetometer.

 CATEGORIES:

 CALLING SEQUENCE:
   response = rbsp_msc_response(f, probe, component)

 ARGUMENTS:
   f: (Input, required) A floating array of frequencies at which the responses
           are calculated.

   probe: (Input, required) RBSP probe name. It should be 'a' or 'b'.

   component: (Input, required) Component name. Valid names are:
         'Bu', 'Bv', 'Bw'.

 KEYWORDS:
   None.

 COMMON BLOCKS:

 EXAMPLES:

 SEE ALSO:

 HISTORY:
   2012-09-04: Created by Jianbao Tao (JBT), SSL, UC Berkley.


 Version:

 $LastChangedBy: aaronbreneman $
 $LastChangedDate: 2020-04-29 11:19:47 -0700 (Wed, 29 Apr 2020) $
 $LastChangedRevision: 28648 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/general/missions/rbsp/efw/calibration_files/rbsp_msc_response.pro $
</PRE><P>
<STRONG>(See <A href="calibration_files/rbsp_msc_response.pro">general/missions/rbsp/efw/calibration_files/rbsp_msc_response.pro</A>)</STRONG><P>
<HR>
 
