<!-- This file was generated by mk_html_help.pro -->
<html>
 
<head>
<TITLE>external/developers/solarwind</TITLE>
</head>
 
<body>
<P>
This page was created by the IDL library routine 
<CODE>mk_html_help2</CODE>.
<br>
<P>
<STRONG>Last modified: </STRONG>Wed Aug  6 18:18:26 2025.<P>
 
<HR>
 
<A NAME="ROUTINELIST">
<H1>Directory Listing of Routines</H1></A>
<UL>
<H1>external/developers/solarwind</H1>
<LI><A HREF="#OMNI2_LOAD">OMNI2_LOAD</A>
<LI><A HREF="#SOLARWIND_CRIB">SOLARWIND_CRIB</A>
<br>Crib sheet showing the use and work of the solar wind (SW) processing
<LI><A HREF="#SOLARWIND_LOAD">SOLARWIND_LOAD</A>
<br>Routine provides solar wind (SW) data time-shifted to the bow-shock
<LI><A HREF="#SOLARWIND_LOAD_HRO">SOLARWIND_LOAD_HRO</A>
<br>Plug-in subroutine for driver routine solarwind_load.pro provides
<LI><A HREF="#SOLARWIND_LOAD_OMNI1H">SOLARWIND_LOAD_OMNI1H</A>
<br>Plug-in subroutine for driver routine solarwind_load.pro provides
<LI><A HREF="#SOLARWIND_LOAD_WIND">SOLARWIND_LOAD_WIND</A>
<br>Plug-in subroutine for driver routine solarwind_load.pro provides
<br>
</UL><P>
<HR>
 
<H1>Routine Descriptions</H1>
<A NAME="OMNI2_LOAD">
<H2>OMNI2_LOAD</H2></A>
<A HREF="#SOLARWIND_CRIB">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
Procedure: OMNI2_LOAD

Purpose:  Loads OMNI data

keywords:
   TRANGE= (Optional) Time range of interest  (2 element array).
   /VERBOSE : set to output some useful info
Example:
   omni2_load
Notes:
  This routine is still in development.
 Author: Davin Larson

 $LastChangedBy: bckerr $
 $LastChangedDate: 2008-09-08 13:16:17 -0700 (Mon, 08 Sep 2008) $
 $LastChangedRevision: 3459 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/external/developers/solarwind/omni2_load.pro $
</PRE><P>
<STRONG>(See <A href="solarwind/omni2_load.pro">external/developers/solarwind/omni2_load.pro</A>)</STRONG><P>
<HR>
 
<A NAME="SOLARWIND_CRIB">
<H2>SOLARWIND_CRIB</H2></A>
<A HREF="#OMNI2_LOAD">[Previous Routine]</A>
<A HREF="#SOLARWIND_LOAD">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
     SOLARWIND_CRIB

 PURPOSE:
	Crib sheet showing the use and work of the solar wind (SW) processing
	routine.

 CATEGORY:
	Crib sheet

 CALLING SEQUENCE:
	solarwind_crib

 INPUTS:
	none; the code prompts user to continue by entering .continue on terminal

 KEYWORDS:
	none

 PARAMETERS: 3 parameters for outlier filtering and convolution are described
		and set in the code remove_outliers.pro. Another parameter is set in
		the auxillary routine remove_outliers_repair.pro. Time range for SW data
		and time resolution of SW data are set in the crib code.

 OUTPUTS:
	graphics, interactive terminal

 DEPENDENCIES: convolve_gaussian_1d.pro, remove_outliers.pro,
     remove_outliers_repair.pro, wi_swe_load.pro, get_data.pro, xclip.pro,
     xdegap.pro, xdeflag.pro, solarwind_load.pro, omni_hro_load.pro,
     omni2_load.pro, wi_mfi_load.pro, solarwind_load_hro.pro,
		solarwind_load_omni1h.pro, solarwind_load_wind.pro

 MODIFICATION HISTORY:
	Written by:	Vladimir Kondratovich 2008/01/16.
</PRE><P>
<STRONG>(See <A href="solarwind/solarwind_crib.pro">external/developers/solarwind/solarwind_crib.pro</A>)</STRONG><P>
<HR>
 
<A NAME="SOLARWIND_LOAD">
<H2>SOLARWIND_LOAD</H2></A>
<A HREF="#SOLARWIND_CRIB">[Previous Routine]</A>
<A HREF="#SOLARWIND_LOAD_HRO">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
     SOLARWIND_LOAD

 PURPOSE:
	Routine provides solar wind (SW) data time-shifted to the bow-shock
	nose. Time resolution of data is variable with 1 minute as finest.
	SW data sources: OMNI-2, HRO, and WIND. Time shifting of the WIND
	data is based on the OMNI-2 metodology.
	Important difference is that we first average and then propagate
	averaged WIND quantities to the Earth. If there still is a strong
	irregularity in the SW speed after averaging, the code warns user.
	In all cases of insufficient data, the code produces nominal static
	SW parameters, following SPDF standards. Static nominal SW data is
	default output if no user preferences are specified in the
	program call.

 CATEGORY:
	Data Processing

 CALLING SEQUENCE:
	solarwind_load,swdata,dstout,trange, resol=resol, wind=wind, hro=hro, min5=min5, h1=h1, dst=dst

 INPUTS:
	trange : [tstart, tend] - time range (at the magnetopause) for SW data
		Times tstart and tend need to be one of types supported by TDAS 
		(specifically, by the time_double.pro routine), in part:
		double seconds since 1970 (internal TDAS format)
		string format: 'YYYY-MM-DD/hh:mm:ss'
 OPTIONAL INPUT:
	resol  : desired time resolution of the output data in seconds
		- if not set, SW data are provided in original time resolution

 KEYWORDS:
	wind - WIND observations used (they are convolved to desired resolution and
		then time-shifted to the bow-shock nose using OMNI-2 methodology. The
		code checks if the SW speed irregularities are too large and warns
		user when more sophisticated processing may be needed.
	hro - HRO data are used (most consistent approach up-to-date). The data are
		already propagated, so they are just convolved to desired resolution.
	min5 - use 5 min HRO merged database (default is to use 1 min HRO merged data)
	h1 - use OMNI-2 1 hour SW database. No convolution employed and parameter
		resol is ignored
	dst - get Dst index from the OMNI-2 database. This switch works independently
		on the other data keywords (for example, it provides Dst output even
		if HRO or WIND data are ordered). Dst is interpolated onto the time grid
		od requested data, if any.

 PARAMETERS: 3 parameters for outlier filtering are described and set at the
			beginning of the code.

 OUTPUTS:
	swdata: | t | Dp | Bz | of IMF at the bow-shock nose
		- 2D double array (ntpoints,3)
	dstout: | Dst | - Dst index on the 1-hour OMNI-2 time grid
		- double array (ntpoints)

 DEPENDENCIES: convolve_gaussian_1d.pro, remove_outliers.pro, repair.pro,
     wi_swe_load.pro, wi_mfi_load.pro, omni_hro_load.pro, omni2_load.pro,
     get_data.pro, xclip.pro, xdegap.pro, xdeflag.pro, cotrans.pro. The code
     is a lowest-level part of LMN transform package.

 MODIFICATION HISTORY:
	Written by:	Vladimir Kondratovich 2007/12/28.
	Modified by Vladimir Kondratovich 2008/03/31. Mods do not change call syntax. The code 
		is made modular with plug-in subroutines for each data source, so it became easy
		to add a new one. Existing ingest modules provide a template.
</PRE><P>
<STRONG>(See <A href="solarwind/solarwind_load.pro">external/developers/solarwind/solarwind_load.pro</A>)</STRONG><P>
<HR>
 
<A NAME="SOLARWIND_LOAD_HRO">
<H2>SOLARWIND_LOAD_HRO</H2></A>
<A HREF="#SOLARWIND_LOAD">[Previous Routine]</A>
<A HREF="#SOLARWIND_LOAD_OMNI1H">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
     SOLARWIND_LOAD_HRO

 PURPOSE:
	Plug-in subroutine for driver routine solarwind_load.pro provides 
	solar wind (SW) data time-shifted to the bow-shock
	nose. Time resolution of data is variable with 1 minute as finest.
	SW data source: High Resolution OMNI. It is already time-shifted.
	In all cases of insufficient data, the code produces nominal static
	SW parameters, following SPDF standards. 

 CATEGORY:
	Data Processing

 CALLING SEQUENCE:
	solarwind_load_hro,ishro,times,timee,swdata, resol=resol, min5=min5

 INPUTS:
	times : - start time (at the magnetopause) for SW data (double UNIX time or
		any other TDAS time format)
	timee : - end time, formatted as above
 OPTIONAL INPUT:
	resol  : desired time resolution of the output data in seconds (double)
		- if not set, SW data are provided in original time resolution

 KEYWORDS:
	min5 - use 5 min HRO merged database (default is to use 1 min HRO merged data)

 PARAMETERS: fill values taken from HRO web site

 OUTPUTS:
	ishro - 1 if HRO data are found and 0 otherwise
	swdata: | t | Dp | Bz | of IMF at the bow-shock nose
		- 2D double array (ntpoints,3)

 DEPENDENCIES: convolve_gaussian_1d.pro, omni_hro_load.pro, get_data.pro,
		xclip.pro, xdegap.pro, xdeflag.pro. The code is a
		lowest-level part of LMN transform package.

 MODIFICATION HISTORY:
	Written by:	Vladimir Kondratovich 2007/12/28.
	Modified by Vladimir Kondratovich 2008/03/31.
</PRE><P>
<STRONG>(See <A href="solarwind/solarwind_load_hro.pro">external/developers/solarwind/solarwind_load_hro.pro</A>)</STRONG><P>
<HR>
 
<A NAME="SOLARWIND_LOAD_OMNI1H">
<H2>SOLARWIND_LOAD_OMNI1H</H2></A>
<A HREF="#SOLARWIND_LOAD_HRO">[Previous Routine]</A>
<A HREF="#SOLARWIND_LOAD_WIND">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
     SOLARWIND_LOAD_OMNI1H

 PURPOSE:
	Plug-in subroutine for driver routine solarwind_load.pro provides 
	solar wind (SW) data time-shifted to the bow-shock
	nose. Time resolution of data is fixed: 1 hour. SW data source: 
	OMNI-2. Data is already time-shifted.
	In all cases of insufficient data, the code produces nominal static
	SW parameters, following SPDF standards. 

 CATEGORY:
	Data Processing

 CALLING SEQUENCE:
	solarwind_load_omni1h,isomni1h,times,timee,swdata,dstout

 INPUTS:
	times : - start time (at the magnetopause) for SW data (double UNIX time or
		any other TDAS time format)
	timee : - end time, formatted as above

 KEYWORDS: None

 PARAMETERS: fill values taken from OMNI-2 web site

 OUTPUTS:
	isomni1h - 1 if OMNI-2 data are found and 0 otherwise
	swdata: | t | Dp | Bz | of IMF at the bow-shock nose
		- 2D double array (ntpoints,3)
	dst_out: | Dst | - Dst index on the 1-hour OMNI-2 time grid
		- double array (ntpoints)

 DEPENDENCIES: omni2_load.pro, get_data.pro,
		xclip.pro, xdegap.pro, xdeflag.pro, cotrans.pro. The code is a
		lowest-level part of LMN transform package.

 MODIFICATION HISTORY:
	Written by:	Vladimir Kondratovich 2007/12/28.
	Modified by Vladimir Kondratovich 2008/03/31.
</PRE><P>
<STRONG>(See <A href="solarwind/solarwind_load_omni1h.pro">external/developers/solarwind/solarwind_load_omni1h.pro</A>)</STRONG><P>
<HR>
 
<A NAME="SOLARWIND_LOAD_WIND">
<H2>SOLARWIND_LOAD_WIND</H2></A>
<A HREF="#SOLARWIND_LOAD_OMNI1H">[Previous Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
     SOLARWIND_LOAD_WIND

 PURPOSE:
	Plug-in subroutine for driver routine solarwind_load.pro provides 
	solar wind (SW) data time-shifted to the bow-shock
	nose. Time resolution of data is variable with 1 minute as finest.
	SW data sources: WIND SWE and MFI. Time shifting of the WIND
	data is based on the OMNI-2 metodology.
	Important difference is that we first average and then propagate
	averaged WIND quantities to the Earth. If there still is a strong
	irregularity in the SW speed after averaging, the code warns user.
	In all cases of insufficient data, the code produces nominal static
	SW parameters, following SPDF standards. 

 CATEGORY:
	Data Processing

 CALLING SEQUENCE:
	solarwind_load_wind,iswind,times,timee,swdata,resol

 INPUTS:
	times : - start time (at the magnetopause) for SW data (double UNIX time or
		any other TDAS time format)
	timee : - end time, formatted as above
	resol : desired time resolution of the output data in seconds
		- if not set, SW data are provided in original time resolution

 KEYWORDS: None

 PARAMETERS: 3 parameters for outlier filtering are propagated through the 
		common block from the main driver solarwind_load.

 OUTPUTS:
	iswind - 1 if WIND data are found and 0 otherwise
	swdata: | t | Dp | Bz | of IMF at the bow-shock nose
		- 2D double array (ntpoints,3)

 DEPENDENCIES: convolve_gaussian_1d.pro, remove_outliers.pro, repair.pro,
     wi_swe_load.pro, wi_mfi_load.pro, get_data.pro,
		xclip.pro, xdegap.pro, xdeflag.pro, cotrans.pro. The code is a
		lowest-level part of LMN transform package.

 MODIFICATION HISTORY:
	Written by:	Vladimir Kondratovich 2007/12/28.
	Modified by Vladimir Kondratovich 2008/03/31.
</PRE><P>
<STRONG>(See <A href="solarwind/solarwind_load_wind.pro">external/developers/solarwind/solarwind_load_wind.pro</A>)</STRONG><P>
<HR>
 
