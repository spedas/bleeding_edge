<!-- This file was generated by mk_html_help.pro -->
<html>
 
<head>
<TITLE>projects/erg/ground/camera</TITLE>
</head>
 
<body>
<P>
This page was created by the IDL library routine 
<CODE>mk_html_help2</CODE>.
<br>
<P>
<STRONG>Last modified: </STRONG>Fri Apr 21 18:16:43 2023.<P>
 
<HR>
 
<A NAME="ROUTINELIST">
<H1>Directory Listing of Routines</H1></A>
<UL>
<H1>projects/erg/ground/camera</H1>
<LI><A HREF="#ERG_LOAD_CAMERA_OMTI_ASI">ERG_LOAD_CAMERA_OMTI_ASI</A>
<br>To load the OMTI ASI data from the ISEE ERG-SC site
<LI><A HREF="#KEOGRAM_IMAGE">KEOGRAM_IMAGE</A>
<br>Create the keogram of image data at a spesific location.
<LI><A HREF="#OMTI_ATTITUDE_PARAMS">OMTI_ATTITUDE_PARAMS</A>
<br>Output the OMTI Imager Attitude Parameters for Coordinate Transformation.
<LI><A HREF="#PLOT_OMTI_GMAP[1]">PLOT_OMTI_GMAP[1]</A>
<br>Create the two-dimensional map of image data in geographic coordinates.
<LI><A HREF="#PLOT_OMTI_GMAP[2]">PLOT_OMTI_GMAP[2]</A>
<br>Create the two-dimensional map of image data.
<LI><A HREF="#RM_STAR_ABSINT">RM_STAR_ABSINT</A>
<br>Remove star lights with a median filter.
<LI><A HREF="#SEARCH_OMTI_CALIBRATION_FILE">SEARCH_OMTI_CALIBRATION_FILE</A>
<br>Select the OMTI calibration file for site and wavelength at the specified date.
<LI><A HREF="#TABSINT">TABSINT</A>
<br>Calculates the absolute intensity [R] with raw, background, and calibration data,
<LI><A HREF="#TABSINT_NOBG">TABSINT_NOBG</A>
<br>Calculates the absolute intensity [R] with raw and calibration data,
<LI><A HREF="#TASI2GMAP">TASI2GMAP</A>
<br>Create the image data in geographic coordinates, and store tplot variable:
<LI><A HREF="#TMAKE_IMAGE_DEV">TMAKE_IMAGE_DEV</A>
<br>Calculates the deviation of image data from 1-hour verage data and store tplot variable:
<LI><A HREF="#TMAKE_MAP_TABLE">TMAKE_MAP_TABLE</A>
<br>Create the mapping table in geographic coordinates, and store tplot variable:
<br>
</UL><P>
<HR>
 
<H1>Routine Descriptions</H1>
<A NAME="ERG_LOAD_CAMERA_OMTI_ASI">
<H2>ERG_LOAD_CAMERA_OMTI_ASI</H2></A>
<A HREF="#KEOGRAM_IMAGE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE: erg_load_camera_omti_asi

 PURPOSE:
   To load the OMTI ASI data from the ISEE ERG-SC site

 KEYWORDS:
   site  = Observatory name, example, erg_load_camera_omti_asi, site='sgk'.
           The default is 'all', i.e., load all available stations.
           This can be an array of strings, e.g., ['sgk', 'sta']
           or a single string delimited by spaces, e.g., 'sgk sta'.
           Sites: abu ath drw eur gak hlk hus isg ist ith kap ktb mgd nai nyr ptk rik rsb sgk sta syo trs yng
   wavelength = Wavelength in Angstrom, i.e., 5577, 6300, 7200, 7774, 5893, etc.
                The default is 5577. This can be an array of integers, e.g., [5577, 6300]
                or strings, e.g., '5577', '5577 6300', and ['5577', '6300'].
   /downloadonly, if set, then only download the data, do not load it into variables.
   /no_server, use only files which are online locally.
   /no_download, use only files which are online locally. (Identical to no_server keyword.)
   trange = (Optional) Time range of interest  (2 element array).
   /timeclip, if set, then data are clipped to the time range set by timespan

 EXAMPLE:
   erg_load_camera_omti_asi, site='sgk', wavelength=5577, trange=['2012-01-01/00:00:00','2012-01-02/00:00:00']

 NOTE: See the rules of the road.
       For more information, see http://stdb2.isee.nagoya-u.ac.jp/omti/

 HISTORY:
 2013-03-28: Initial release by Y. Miyashita, Mar 28, 2013
             ERG-Science Center, ISEE, Nagoya Univ.
             erg-sc-core at isee.nagoya-u.ac.jp

 2017-09-18: Satoshi Kurita, ISEE, Nagoya U. (kurita at isee.nagoya-u.ac.jp)
             1. New stations (GAK, KAP, NYR, HUS) are included
             2. Use spd_download instead of file_retrieve

 2020-03-25: Atsuki Shinbori, ISEE, Nagoya U. (shinbori at isee.nagoya-u.ac.jp)
             1. New stations (ABU, EUR, HLK, IST, and NAI) are included
             
 2022-08-05: Atsuki Shinbori, ISEE, Nagoya U. (shinbori at isee.nagoya-u.ac.jp)
             1. Added exposure time tplot variables.
             2. New stations (CPN, ZGN))
                          
   $LastChangedDate: 2023-01-11 10:09:14 -0800 (Wed, 11 Jan 2023) $
   $LastChangedRevision: 31399 $
</PRE><P>
<STRONG>(See <A href="camera/erg_load_camera_omti_asi.pro">projects/erg/ground/camera/erg_load_camera_omti_asi.pro</A>)</STRONG><P>
<HR>
 
<A NAME="KEOGRAM_IMAGE">
<H2>KEOGRAM_IMAGE</H2></A>
<A HREF="#ERG_LOAD_CAMERA_OMTI_ASI">[Previous Routine]</A>
<A HREF="#OMTI_ATTITUDE_PARAMS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
 keogram_image

PURPOSE:
 Create the keogram of image data at a spesific location.

SYNTAX:
 keogram_image, vname, lat = lat, lon = lon 

PARAMETERS:
  vname = tplot variable of image data.

  Example:
   plot_omti_gmap, vname, lat = lat, lon = lon

KEYWOARDS:
  lat = latitude to creat a longitude-time plot of image data.
  lon = longitude to creat a latitude-time plot of image data.

CODE:
  A. Shinbori, 22/07/2022.

MODIFICATIONS:


ACKNOWLEDGEMENT:
 $LastChangedBy:
 $LastChangedDate:
 $LastChangedRevision:
 $URL $
</PRE><P>
<STRONG>(See <A href="camera/keogram_image.pro">projects/erg/ground/camera/keogram_image.pro</A>)</STRONG><P>
<HR>
 
<A NAME="OMTI_ATTITUDE_PARAMS">
<H2>OMTI_ATTITUDE_PARAMS</H2></A>
<A HREF="#KEOGRAM_IMAGE">[Previous Routine]</A>
<A HREF="#PLOT_OMTI_GMAP[1]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
 omti_attitude_params

PURPOSE:
 Output the OMTI Imager Attitude Parameters for Coordinate Transformation.

SYNTAX:
 result = omti_attitude_params(date = date, site = site)

PARAMETERS:
  date = Unix time
  site = Site name (ABB code)

CODE:
  A. Shinbori, 21/07/2022.

MODIFICATIONS:


ACKNOWLEDGEMENT:
 $LastChangedBy:
 $LastChangedDate:
 $LastChangedRevision:
 $URL $
</PRE><P>
<STRONG>(See <A href="camera/omti_attitude_params.pro">projects/erg/ground/camera/omti_attitude_params.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PLOT_OMTI_GMAP[1]">
<H2>PLOT_OMTI_GMAP[1]</H2></A>
<A HREF="#OMTI_ATTITUDE_PARAMS">[Previous Routine]</A>
<A HREF="#PLOT_OMTI_GMAP[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
 plot_omti_gmap

PURPOSE:
 Create the two-dimensional map of image data in geographic coordinates.

SYNTAX:
 plot_omti_gmap, vname, time = time, min_value = min_value, max_value = max_value

PARAMETERS:
  vname = tplot variable of image data.
  
  Example:
   plot_omti_gmap, vname, time = time, x_min = x_min, x_max = x_max, y_min = y_min, y_max = y_max, z_min = z_min, z_max = z_max

KEYWOARDS:
  time = plot time. The default is start time of tplot variable.
  min_value = minimum value of plot range. The default is the minimum value of image data.
  max_value = maximum value of plot range. The default is the maximum value of image data.

CODE:
  A. Shinbori, 22/07/2022.

MODIFICATIONS:


ACKNOWLEDGEMENT:
 $LastChangedBy:
 $LastChangedDate:
 $LastChangedRevision:
 $URL $
</PRE><P>
<STRONG>(See <A href="camera/plot_omti_gmap.pro">projects/erg/ground/camera/plot_omti_gmap.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PLOT_OMTI_GMAP[2]">
<H2>PLOT_OMTI_GMAP[2]</H2></A>
<A HREF="#PLOT_OMTI_GMAP[1]">[Previous Routine]</A>
<A HREF="#RM_STAR_ABSINT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
 plot_omti_gmap

PURPOSE:
 Create the two-dimensional map of image data.

SYNTAX:
 plot_omti_image, vname, time = time, x_min = x_min, x_max = x_max, y_min = y_min, y_max = y_max, z_min = z_min, z_max = z_max

PARAMETERS:
  vname = tplot variable of image data.

KEYWOARDS:
  time = plot time. The default is start time of tplot variable.
  x_min = minimum value of x range. The default is the minimum value of image size.
  x_max = maximum value of x range. The default is the maximum value of image size.
  y_min = minimum value of y range. The default is the minimum value of image size.
  y_max = maximum value of y range. The default is the maximum value of image size.
  z_min = minimum value of z range. The default is the minimum value of image data.
  z_max = maximum value of z range. The default is the maximum value of image data.
  
CODE:
  A. Shinbori, 22/07/2022.

MODIFICATIONS:


ACKNOWLEDGEMENT:
 $LastChangedBy:
 $LastChangedDate:
 $LastChangedRevision:
 $URL $
</PRE><P>
<STRONG>(See <A href="camera/plot_omti_image.pro">projects/erg/ground/camera/plot_omti_image.pro</A>)</STRONG><P>
<HR>
 
<A NAME="RM_STAR_ABSINT">
<H2>RM_STAR_ABSINT</H2></A>
<A HREF="#PLOT_OMTI_GMAP[2]">[Previous Routine]</A>
<A HREF="#SEARCH_OMTI_CALIBRATION_FILE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
rm_star_absint

PURPOSE:
 Remove star lights with a median filter.

SYNTAX:
 rm_star_absint, img0, img_out, img_size

KEYWOARDS:
  img0 = input the image data
  img_out = output the image data that remove the star lights
  img_size = tiff size (256 or 512)

CODE:
  A. Shinbori, 08/07/2022.

MODIFICATIONS:


ACKNOWLEDGEMENT:
 $LastChangedBy:
 $LastChangedDate:
 $LastChangedRevision:
 $URL $
</PRE><P>
<STRONG>(See <A href="camera/rm_star_absint.pro">projects/erg/ground/camera/rm_star_absint.pro</A>)</STRONG><P>
<HR>
 
<A NAME="SEARCH_OMTI_CALIBRATION_FILE">
<H2>SEARCH_OMTI_CALIBRATION_FILE</H2></A>
<A HREF="#RM_STAR_ABSINT">[Previous Routine]</A>
<A HREF="#TABSINT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
 search_omti_calibration_file

PURPOSE:
 Select the OMTI calibration file for site and wavelength at the specified date.

SYNTAX:
 result = select_omti_calibration_file(date = date, site = site, wavelength = wavelength, wid0 = wid0)

PARAMETERS:
  date = Unix time
  site = Site name (ABB code)
  wavelength = Observed wavelength for airglow
  wid0 = 2x2 binning window
  
CODE:
  A. Shinbori, 21/07/2022.

MODIFICATIONS:


ACKNOWLEDGEMENT:
 $LastChangedBy:
 $LastChangedDate:
 $LastChangedRevision:
 $URL $
</PRE><P>
<STRONG>(See <A href="camera/search_omti_calibration_file.pro">projects/erg/ground/camera/search_omti_calibration_file.pro</A>)</STRONG><P>
<HR>
 
<A NAME="TABSINT">
<H2>TABSINT</H2></A>
<A HREF="#SEARCH_OMTI_CALIBRATION_FILE">[Previous Routine]</A>
<A HREF="#TABSINT_NOBG">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
 tabsint

PURPOSE:
 Calculates the absolute intensity [R] with raw, background, and calibration data,
 and store tplot variable:

SYNTAX:
 tabsint, site = site, wavelength = wavelength

PARAMETERS:
  site = ABB code of observation site.
  wavelength = wavelength of airglow and background image data.
  
  Example:
   tabsint, site = 'ath', wavelength = [6300,5725]

CODE:
  A. Shinbori, 15/07/2022.

MODIFICATIONS:
  A. Shinbori, 05/08/2022.

ACKNOWLEDGEMENT:
 $LastChangedBy:
 $LastChangedDate:
 $LastChangedRevision:
 $URL $
</PRE><P>
<STRONG>(See <A href="camera/tabsint.pro">projects/erg/ground/camera/tabsint.pro</A>)</STRONG><P>
<HR>
 
<A NAME="TABSINT_NOBG">
<H2>TABSINT_NOBG</H2></A>
<A HREF="#TABSINT">[Previous Routine]</A>
<A HREF="#TASI2GMAP">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
 tabsint_nobg

PURPOSE:
 Calculates the absolute intensity [R] with raw and calibration data,
 and store tplot variable:

SYNTAX:
 tabsint_nobg, site = site, wavelength = wavelength

PARAMETERS:
  vname1 = tplot variable of raw data.

  Example
   tabsint_nobg, site = 'ath', wavelength = 6300

KEYWOARDS:

CODE:
  A. Shinbori, 05/08/2022.

MODIFICATIONS:


ACKNOWLEDGEMENT:
 $LastChangedBy:
 $LastChangedDate:
 $LastChangedRevision:
 $URL $
</PRE><P>
<STRONG>(See <A href="camera/tabsint_nobg.pro">projects/erg/ground/camera/tabsint_nobg.pro</A>)</STRONG><P>
<HR>
 
<A NAME="TASI2GMAP">
<H2>TASI2GMAP</H2></A>
<A HREF="#TABSINT_NOBG">[Previous Routine]</A>
<A HREF="#TMAKE_IMAGE_DEV">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
 tasi2gmap

PURPOSE:
 Create the image data in geographic coordinates, and store tplot variable:

SYNTAX:
 tasi2ggg, vname1, vname2

PARAMETER:
  vname1 = tplot variable of airgrow data.
  vname2 = tplot variable of map table data.

KEYWOARDS:

CODE:
  A. Shinbori, 15/07/2022.

MODIFICATIONS:


ACKNOWLEDGEMENT:
 $LastChangedBy:
 $LastChangedDate:
 $LastChangedRevision:
 $URL $
</PRE><P>
<STRONG>(See <A href="camera/tasi2gmap.pro">projects/erg/ground/camera/tasi2gmap.pro</A>)</STRONG><P>
<HR>
 
<A NAME="TMAKE_IMAGE_DEV">
<H2>TMAKE_IMAGE_DEV</H2></A>
<A HREF="#TASI2GMAP">[Previous Routine]</A>
<A HREF="#TMAKE_MAP_TABLE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
 tmake_image_dev

PURPOSE:
 Calculates the deviation of image data from 1-hour verage data and store tplot variable:

SYNTAX:
 tmake_image_dev, vname, width = width

PARAMETERS:
  vname = tplot variable of image data.

  Example
   tmake_image_dev, 'omti_asi_sgk_5577_image_raw'

KEYWOARDS:
  width = Period of data window to calculate the average value.
         The default is 3600 sec.

CODE:
  A. Shinbori, 15/07/2022.

MODIFICATIONS:


ACKNOWLEDGEMENT:
 $LastChangedBy:
 $LastChangedDate:
 $LastChangedRevision:
 $URL $
</PRE><P>
<STRONG>(See <A href="camera/tmake_image_dev.pro">projects/erg/ground/camera/tmake_image_dev.pro</A>)</STRONG><P>
<HR>
 
<A NAME="TMAKE_MAP_TABLE">
<H2>TMAKE_MAP_TABLE</H2></A>
<A HREF="#TMAKE_IMAGE_DEV">[Previous Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

NAME:
 tmake_map_table

PURPOSE:
 Create the mapping table in geographic coordinates, and store tplot variable:

SYNTAX:
 tmake_map_table, vname, mapping_alt = mapping_alt, grid = grid, mapsize = mapsize, in_km = in_km

PARAMETER:
  vname = tplot variable of airgrow data.

KEYWOARDS:
  mapping_alt = Mapping altitude.
           The default is 110 km.
  grid = grid size.
         The default is 0.01.
  mapsize = map size.
            The default is an original image size. 
  in_km = If in_km is set, unit is km.        

CODE:
  A. Shinbori, 15/07/2022.

MODIFICATIONS:


ACKNOWLEDGEMENT:
 $LastChangedBy:
 $LastChangedDate:
 $LastChangedRevision:
 $URL $
</PRE><P>
<STRONG>(See <A href="camera/tmake_map_table.pro">projects/erg/ground/camera/tmake_map_table.pro</A>)</STRONG><P>
<HR>
 
