<!-- This file was generated by mk_html_help.pro -->
<html>
 
<head>
<TITLE>projects/sosmag/hapi</TITLE>
</head>
 
<body>
<P>
This page was created by the IDL library routine 
<CODE>mk_html_help2</CODE>.
<br>
<P>
<STRONG>Last modified: </STRONG>Thu Sep 21 18:16:45 2023.<P>
 
<HR>
 
<A NAME="ROUTINELIST">
<H1>Directory Listing of Routines</H1></A>
<UL>
<H1>projects/sosmag/hapi</H1>
<LI><A HREF="#SOSMAG_CRIB">SOSMAG_CRIB</A>
<LI><A HREF="#SOSMAG_HAPI_LOAD_DATA">SOSMAG_HAPI_LOAD_DATA</A>
<LI><A HREF="#SOSMAG_HAPI_QUERY">SOSMAG_HAPI_QUERY</A>
<LI><A HREF="#SOSMAG_JSON_PARSE">SOSMAG_JSON_PARSE</A>
<LI><A HREF="#SOSMAG_LOAD_DATA">SOSMAG_LOAD_DATA</A>
<LI><A HREF="#SOSMAG_READ_PASSWORD">SOSMAG_READ_PASSWORD</A>
<br>
</UL><P>
<HR>
 
<H1>Routine Descriptions</H1>
<A NAME="SOSMAG_CRIB">
<H2>SOSMAG_CRIB</H2></A>
<A HREF="#SOSMAG_HAPI_LOAD_DATA">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 Procedure:
  sosmag_crib

 Purpose:
  Demonstrate how to load and plot SOSMAG data.


$LastChangedBy: nikos $
$LastChangedDate: 2023-09-05 16:26:53 -0700 (Tue, 05 Sep 2023) $
$LastChangedRevision: 32080 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/sosmag/hapi/sosmag_crib.pro $
</PRE><P>
<STRONG>(See <A href="hapi/sosmag_crib.pro">projects/sosmag/hapi/sosmag_crib.pro</A>)</STRONG><P>
<HR>
 
<A NAME="SOSMAG_HAPI_LOAD_DATA">
<H2>SOSMAG_HAPI_LOAD_DATA</H2></A>
<A HREF="#SOSMAG_CRIB">[Previous Routine]</A>
<A HREF="#SOSMAG_HAPI_QUERY">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 Procedure:
  sosmag_hapi_load_data

 Purpose:
  Loads SOSMAG data using the ESA HAPI server.

 Keywords:
     trange:     Time range of interest (array with 2 elements, start and end time)
     dataset:    Two datasets are available: recalibrated (default) and 1-min:
                      'spase://SSA/NumericalData/GEO-KOMPSAT-2A/esa_gk2a_sosmag_recalib'
                      'spase://SSA/NumericalData/GEO-KOMPSAT-2A/esa_gk2a_sosmag_1m'
     recalib:    If 1 then select recalibrated dataset, if 0 select 1-min dataset
     prefix:     String to append to the beginning of the loaded tplot variables
     tplotnames: Array of strings with the tplot variables that were loaded.


$LastChangedBy: nikos $
$LastChangedDate: 2023-09-05 16:26:53 -0700 (Tue, 05 Sep 2023) $
$LastChangedRevision: 32080 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/sosmag/hapi/sosmag_hapi_load_data.pro $
</PRE><P>
<STRONG>(See <A href="hapi/sosmag_hapi_load_data.pro">projects/sosmag/hapi/sosmag_hapi_load_data.pro</A>)</STRONG><P>
<HR>
 
<A NAME="SOSMAG_HAPI_QUERY">
<H2>SOSMAG_HAPI_QUERY</H2></A>
<A HREF="#SOSMAG_HAPI_LOAD_DATA">[Previous Routine]</A>
<A HREF="#SOSMAG_JSON_PARSE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 Procedure:
  sosmag_hapi_query

 Purpose:
  Sends a query to SOSMAG HAPI server.
  Receives a json answer.


 Notes:
  SOSMAG HAPI server is: 'https://swe.ssa.esa.int/hapi/'
  As of 2021/12/03 the server has non-standard behavior that requires special treatment:
    1. It requires username and password for each user.
    2. The catalog contains 134 datasets, but only 2 are actually available.
    3. By design, it returns Error 500 responses that cannot be parsed by json.
  All the above may be changed in the future.


$LastChangedBy: nikos $
$LastChangedDate: 2023-09-05 16:26:53 -0700 (Tue, 05 Sep 2023) $
$LastChangedRevision: 32080 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/sosmag/hapi/sosmag_hapi_query.pro $
</PRE><P>
<STRONG>(See <A href="hapi/sosmag_hapi_query.pro">projects/sosmag/hapi/sosmag_hapi_query.pro</A>)</STRONG><P>
<HR>
 
<A NAME="SOSMAG_JSON_PARSE">
<H2>SOSMAG_JSON_PARSE</H2></A>
<A HREF="#SOSMAG_HAPI_QUERY">[Previous Routine]</A>
<A HREF="#SOSMAG_LOAD_DATA">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 Procedure:
  sosmag_json_parse

 Purpose:
  Returns empty orderedhash if the IDL json_parse function cannot handle the string.


 Notes:
  The SOSMAG HAPI server sometimes sends responses that are not json
  and can cause IDL errors if not handled.


$LastChangedBy: nikos $
$LastChangedDate: 2023-09-05 16:26:53 -0700 (Tue, 05 Sep 2023) $
$LastChangedRevision: 32080 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/sosmag/hapi/sosmag_json_parse.pro $
</PRE><P>
<STRONG>(See <A href="hapi/sosmag_json_parse.pro">projects/sosmag/hapi/sosmag_json_parse.pro</A>)</STRONG><P>
<HR>
 
<A NAME="SOSMAG_LOAD_DATA">
<H2>SOSMAG_LOAD_DATA</H2></A>
<A HREF="#SOSMAG_JSON_PARSE">[Previous Routine]</A>
<A HREF="#SOSMAG_READ_PASSWORD">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 Procedure:
  sosmag_load_data

 Purpose:
  Load SOSMAG data.

 Keywords:
     server:     Server to use. Default is HAPI.
     trange:     Time range of interest (array with 2 elements, start and end time)
     dataset:    Two datasets are available: recalibrated (default) and 1-min:
                      'spase://SSA/NumericalData/GEO-KOMPSAT-2A/esa_gk2a_sosmag_recalib'
                      'spase://SSA/NumericalData/GEO-KOMPSAT-2A/esa_gk2a_sosmag_1m'
     recalib:    If 1 then select recalibrated dataset, if 0 select 1-min dataset
     prefix:     String to append to the beginning of the loaded tplot variables
     tplotnames: Array of strings with the tplot variables that were loaded.


$LastChangedBy: nikos $
$LastChangedDate: 2023-09-05 16:26:53 -0700 (Tue, 05 Sep 2023) $
$LastChangedRevision: 32080 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/sosmag/hapi/sosmag_load_data.pro $
</PRE><P>
<STRONG>(See <A href="hapi/sosmag_load_data.pro">projects/sosmag/hapi/sosmag_load_data.pro</A>)</STRONG><P>
<HR>
 
<A NAME="SOSMAG_READ_PASSWORD">
<H2>SOSMAG_READ_PASSWORD</H2></A>
<A HREF="#SOSMAG_LOAD_DATA">[Previous Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 Procedure:
  sosmag_read_password

 Purpose:
  Read the username and password for SOSMAG.


 Notes:
   SOSMAG requires a username and password for each user.
   These should be saved in a file 'sosmag_password.txt'
   that resides in the same directory as the present file.
   It should contain the username and password separated by =,
   for example:
     username=spedas
     password=adg4kgpGf9Bh26v2


$LastChangedBy: nikos $
$LastChangedDate: 2023-09-05 16:26:53 -0700 (Tue, 05 Sep 2023) $
$LastChangedRevision: 32080 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/sosmag/hapi/sosmag_read_password.pro $
</PRE><P>
<STRONG>(See <A href="hapi/sosmag_read_password.pro">projects/sosmag/hapi/sosmag_read_password.pro</A>)</STRONG><P>
<HR>
 
