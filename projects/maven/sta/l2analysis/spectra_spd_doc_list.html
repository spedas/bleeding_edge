<!-- This file was generated by mk_html_help.pro -->
<html>
 
<head>
<TITLE>projects/maven/sta/l2analysis/spectra</TITLE>
</head>
 
<body>
<P>
This page was created by the IDL library routine 
<CODE>mk_html_help2</CODE>.
<br>
<P>
<STRONG>Last modified: </STRONG>Fri Feb  3 10:45:05 2023.<P>
 
<HR>
 
<A NAME="ROUTINELIST">
<H1>Directory Listing of Routines</H1></A>
<UL>
<H1>projects/maven/sta/l2analysis/spectra</H1>
<LI><A HREF="#MVN_STA_MAKE_IND_SPEC[1]">MVN_STA_MAKE_IND_SPEC[1]</A>
<LI><A HREF="#MVN_STA_MAKE_IND_SPEC[2]">MVN_STA_MAKE_IND_SPEC[2]</A>
<br>
</UL><P>
<HR>
 
<H1>Routine Descriptions</H1>
<A NAME="MVN_STA_MAKE_IND_SPEC[1]">
<H2>MVN_STA_MAKE_IND_SPEC[1]</H2></A>
<A HREF="#MVN_STA_MAKE_IND_SPEC[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
Make STATIC energy spectra for individual ion species, based on AMU mass range. 
Can be used with any sta_apid that resolves mass, but the default is c6.

If sta_apid=ce, cf, d0 or d1, the routine will also produce the anode and deflector spectra with the mass dependence.

INPUTS:
trange: [a,b]: a and b are double precision UNIX times, and are the start and stop times for the time range to look at. If not 
               set, the routine will run over the entire time range loaded, for the requested apid.

sta_apid: string: STATIC apid to load, default is 'c6' if not set.
       
        
KEYWORDS:       
units: 'Eflux' or 'Counts'. Default is 'Eflux' if not set 

mrange: [a,b] : AMU mass range to make spectrogram over, between values of a and b. Default is [0.5, 50.] if not set.

m_int: AMU mass value to assume when calculating energies etc. Default if not set is the mean of mrange.

success: 1: routine ran successfully; 0: routine did not run successfully.

tpname: string: the tplot name given to the resulting spectrogram. The additions '_E', '_D' and '_A' will be added
                for energy, deflector and anode products. If not set, the default name will be given, which includes the
                mrange values used. If tpname is not set, the default name used will be output in this variable.
  
species: string (upper or lower case): set to one of the following to use pre-determined mass ranges:
         'H', 'He', 'O', 'O2', 'CO2' [NOTE: do not include the '+']
         Note: if you set the species keyword, the species name will be added to the ytitle of the relevant tplot.                

EXAMPLES:

Users must first load STATIC data:
timespan, '2018-01-01', 1.
mvn_sta_l2_load, sta_apid='c6'   ;load data into IDL
mvn_sta_l2_tplot   ;put data into tplot

mvn_sta_make_ind_spec, mrange=[14.,20.], m_int=16., sta_apid='c6', tpname=tpname  ;calculate c6 spectrum for O+, for all data loaded. The output
                                                                                  ;tpname will contain the default tplot name for this spectrum.

ctime, tr
mvn_sta_make_ind_spec, species='O2', sta_apid='c6' , trange=tr, tpname='c6var'  ;calculate c6 spectrum for O2+, over the time range tr,
                                                                                ;and save the output as tplot variable 'c6var'.

NOTES:
At some point, CMF will add in keywords to only include ions that lie within/outside specific pitch angles wrt the local B field. I haven't
gotten around to this yet...

CREATED: 2020-03-23
BY: Chris Fowler (cmfowler@berkeley.edu)

For testing:
.r /Users/cmfowler/IDL/STATIC_routines/Spectra/mvn_sta_make_ind_spec.pro
</PRE><P>
<STRONG>(See <A href="spectra/mvn_sta_make_ind_spec.pro">projects/maven/sta/l2analysis/spectra/mvn_sta_make_ind_spec.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MVN_STA_MAKE_IND_SPEC[2]">
<H2>MVN_STA_MAKE_IND_SPEC[2]</H2></A>
<A HREF="#MVN_STA_MAKE_IND_SPEC[1]">[Previous Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
Sub routine that does the actual summing etc. Based on get_en_spec_4d.

INPUTS:
trange, sta_apid, mrange, m_int and tpname are set by the main routine and input here.

</PRE><P>
<STRONG>(See <A href="spectra/mvn_sta_make_ind_spec.pro">projects/maven/sta/l2analysis/spectra/mvn_sta_make_ind_spec.pro</A>)</STRONG><P>
<HR>
 
